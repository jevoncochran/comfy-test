<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <title>Comfy Test</title>
</head>
<body>
    <h1>Words and Count</h1>
    <button id="word_btn">Get Words</button>
    <div id="output"></div>

    <script>
        const rawText = "Anyway, I keep picturing all these little kids playing some game in this big field of rye and all. Thousands of little kids, and nobody's around - nobody big, I mean - except me. And I'm standing on the edge of some crazy cliff. What I have to do, I have to catch everybody if they start to go over the cliff - I mean if they're running and they don't look where they're going I have to come out from somewhere and catch them. That's all I do all day. I'd just be the catcher in the rye and all. I know it's crazy, but that's the only thing I'd really like to be. ";
        const punctuation = '!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~';

        const rawLetters = rawText.split('');
        const cleanLetters = rawLetters.filter(function(letter) {
        return punctuation.indexOf(letter) === -1;
        });

        const cleanText = cleanLetters.join('');

        const textArr = cleanText.split(" ");

        const word_btn = document.getElementById("word_btn");
        word_btn.addEventListener("click", getWords);

        const occurrences = {};
        for (let i = 0; i < textArr.length; i++) {
            if (textArr[i] !== "") {
                occurrences[textArr[i].toLowerCase()] = (occurrences[textArr[i].toLowerCase()] || 0) + 1;
            }
        }

        function getWords() {
            clear();
            console.log(occurrences);

            Object.keys(occurrences).forEach(function(item) {
                const word = document.createElement("p");
                word.textContent = `${item}: ${occurrences[item]}`
                output.appendChild(word);
            })
        }

        function clear() {
            while(output.firstChild) {
                output.removeChild(output.firstChild)
            }
        }

    </script>
</body>
</html>